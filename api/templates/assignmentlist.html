{% extends "base.html" %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/summary.css') }}">
{% endblock %}
{% block script %}
<script>
function show_all() {
  $(".open").show();
  $(".complete").show();
  $('#hc').removeAttr("disabled");
  $('#ho').removeAttr("disabled");
  $('#proofreader').val('all');
}

function select_proofreader(sel) {
  selected = sel.value
  $("#proofreader > option").each(function() {
    if (selected == 'all' || selected == this.value) {
      $("."+this.value).show()
    }
    else {
      $("."+this.value).hide()
    }
  });
  $('#hc').removeAttr("disabled");
  $('#ho').removeAttr("disabled");
}
</script>
{% endblock %}
{% block onload %}
onload="tableInitialize();"
{% endblock %}

{% block content %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/projectlist">Projects</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/assignmentlist">Assignments <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/tasklist">Tasks</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/userlist">Users</a>
        </li>
      </ul>
    </div>
  </nav>
  <h2>Assignments </h2>
  <div>
  <button type="button" class="btn btn-primary btn-sm" onclick='show_all();'>Show all</button>
  <button id="hc" type="button" class="btn btn-primary btn-sm" onclick='$(".complete").hide(); $("#hc").attr("disabled", true);'>Hide completed</button>
  <button id="ho" type="button" class="btn btn-primary btn-sm" onclick='$(".open").hide(); $("#ho").attr("disabled", true);'>Hide open</button>
  Select proofreader:
  <select id="proofreader" onchange='select_proofreader(this);'>
    <option value="all" SELECTED>All proofreaders</a>
    {% for prf in proofreaders %}
        <option value="{{prf}}">{{proofreaders[prf]}}</option>"
    {% endfor %}
  </select>
  </div>
  {{ assignments|safe }}
  {{ unassigned|safe }}
{% endblock %}
